<!DOCTYPE html>
<html>

<head>
    <title></title>
</head>

<body>
    <div id="root">

    </div>

    <!-- https://unpkg.com/react@16.13.1/umd/react.development.js -->
    <script src="./js/react.development.js"></script>
    <!-- https://unpkg.com/react-dom@16.13.1/umd/react-dom.development.js -->
    <script src="./js/react-dom.development.js"></script>
    <!-- https://unpkg.com/browse/babel-standalone@6.26.0/babel.js -->
    <script src="./js/babel.js"></script>
    <script type="text/babel">
    const rootHandle=document.getElementById('root')

        class UserList extends React.Component{
            constructor() {
                super()
                this.state = {
                    users: [
                        {id:1, name:'user1', email:'user1@gmail.com'},
                        {id:2, name:'user2', email:'user2@gmail.com'},
                        {id:3, name:'user3', email:'user3@gmail.com'},
                        {id:4, name:'user4', email:'user4@gmail.com'}
                    ],
                    email:''
                }
            }

            handleChange = (e) => {
                this.setState({email: e.target.value})
            }


            handleSubmit = (e) => {
                e.preventDefault()
                this.setState((prevState) => {
                    return {
                        users: prevState.users.filter((user) => user.email !== this.state.email),
                        email:''
                    }
                })
            }


            render() {
                return(
                    <div>
                        <h1>Users list- {this.state.users.length}</h1>
                        <table border='1'>
                            <thead>
                                <th> ID</th>
                                <th> Name </th>
                                <th> Email </th>
                            </thead>
                            <tbody>
                                {
                                    this.state.users.map((ele) => {
                                        return(
                                            <tr>
                                                <td>{ele.id}</td>
                                                <td>{ele.name}</td>
                                                <td>{ele.email}</td>
                                            </tr>
                                        )
                                    })
                                }
                            </tbody>
                        </table>
                        <form onSubmit={this.handleSubmit}>
                            <input
                                type="email"
                                value={this.state.email}
                                onChange={this.handleChange}
                            />
                            <input type="submit" value="remove" />
                        </form>
                    </div>
                )
            }
        }

    ReactDOM.render(<UserList />, rootHandle)
    </script>

</body>

</html>